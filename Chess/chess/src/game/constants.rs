use crate::game::bitboard::BitBoard;

pub const KNIGHT_ATTACKS: [BitBoard; 64] = [
    BitBoard(0x0000000000020400), // a1
    BitBoard(0x0000000000050800), // b1
    BitBoard(0x00000000000a1100), // c1
    BitBoard(0x0000000000142200), // d1
    BitBoard(0x0000000000284400), // e1
    BitBoard(0x0000000000508800), // f1
    BitBoard(0x0000000000a01000), // g1
    BitBoard(0x0000000000402000), // h1
    BitBoard(0x0000000002040004), // a2
    BitBoard(0x0000000005080008), // b2
    BitBoard(0x000000000a110011), // c2
    BitBoard(0x0000000014220022), // d2
    BitBoard(0x0000000028440044), // e2
    BitBoard(0x0000000050880088), // f2
    BitBoard(0x00000000a0100010), // g2
    BitBoard(0x0000000040200020), // h2
    BitBoard(0x0000000204000402), // a3
    BitBoard(0x0000000508000805), // b3
    BitBoard(0x0000000a1100110a), // c3
    BitBoard(0x0000001422002214), // d3
    BitBoard(0x0000002844004428), // e3
    BitBoard(0x0000005088008850), // f3
    BitBoard(0x000000a0100010a0), // g3
    BitBoard(0x0000004020002040), // h3
    BitBoard(0x0000020400040200), // a4
    BitBoard(0x0000050800080500), // b4
    BitBoard(0x00000a1100110a00), // c4
    BitBoard(0x0000142200221400), // d4
    BitBoard(0x0000284400442800), // e4
    BitBoard(0x0000508800885000), // f4
    BitBoard(0x0000a0100010a000), // g4
    BitBoard(0x0000402000204000), // h4
    BitBoard(0x0002040004020000), // a5
    BitBoard(0x0005080008050000), // b5
    BitBoard(0x000a1100110a0000), // c5
    BitBoard(0x0014220022140000), // d5
    BitBoard(0x0028440044280000), // e5
    BitBoard(0x0050880088500000), // f5
    BitBoard(0x00a0100010a00000), // g5
    BitBoard(0x0040200020400000), // h5
    BitBoard(0x0204000402000000), // a6
    BitBoard(0x0508000805000000), // b6
    BitBoard(0x0a1100110a000000), // c6
    BitBoard(0x1422002214000000), // d6
    BitBoard(0x2844004428000000), // e6
    BitBoard(0x5088008850000000), // f6
    BitBoard(0xa0100010a0000000), // g6
    BitBoard(0x4020002040000000), // h6
    BitBoard(0x0400040200000000), // a7
    BitBoard(0x0800080500000000), // b7
    BitBoard(0x1100110a00000000), // c7
    BitBoard(0x2200221400000000), // d7
    BitBoard(0x4400442800000000), // e7
    BitBoard(0x8800885000000000), // f7
    BitBoard(0x100010a000000000), // g7
    BitBoard(0x2000204000000000), // h7
    BitBoard(0x0004020000000000), // a8
    BitBoard(0x0008050000000000), // b8
    BitBoard(0x00110a0000000000), // c8
    BitBoard(0x0022140000000000), // d8
    BitBoard(0x0044280000000000), // e8
    BitBoard(0x0088500000000000), // f8
    BitBoard(0x0010a00000000000), // g8
    BitBoard(0x0020400000000000), // h8
];

pub const KING_ATTACKS: [BitBoard; 64] = [
    BitBoard(0x0000000000000302), // a1
    BitBoard(0x0000000000000705), // b1
    BitBoard(0x0000000000000e0a), // c1
    BitBoard(0x0000000000001c14), // d1
    BitBoard(0x0000000000003828), // e1
    BitBoard(0x0000000000007050), // f1
    BitBoard(0x000000000000e0a0), // g1
    BitBoard(0x000000000000c040), // h1
    BitBoard(0x0000000000030203), // a2
    BitBoard(0x0000000000070507), // b2
    BitBoard(0x00000000000e0a0e), // c2
    BitBoard(0x00000000001c141c), // d2
    BitBoard(0x0000000000382838), // e2
    BitBoard(0x0000000000705070), // f2
    BitBoard(0x0000000000e0a0e0), // g2
    BitBoard(0x0000000000c040c0), // h2
    BitBoard(0x0000000003020300), // a3
    BitBoard(0x0000000007050700), // b3
    BitBoard(0x000000000e0a0e00), // c3
    BitBoard(0x000000001c141c00), // d3
    BitBoard(0x0000000038283800), // e3
    BitBoard(0x0000000070507000), // f3
    BitBoard(0x00000000e0a0e000), // g3
    BitBoard(0x00000000c040c000), // h3
    BitBoard(0x0000000302030000), // a4
    BitBoard(0x0000000705070000), // b4
    BitBoard(0x0000000e0a0e0000), // c4
    BitBoard(0x0000001c141c0000), // d4
    BitBoard(0x0000003828380000), // e4
    BitBoard(0x0000007050700000), // f4
    BitBoard(0x000000e0a0e00000), // g4
    BitBoard(0x000000c040c00000), // h4
    BitBoard(0x0000030203000000), // a5
    BitBoard(0x0000070507000000), // b5
    BitBoard(0x00000e0a0e000000), // c5
    BitBoard(0x00001c141c000000), // d5
    BitBoard(0x0000382838000000), // e5
    BitBoard(0x0000705070000000), // f5
    BitBoard(0x0000e0a0e0000000), // g5
    BitBoard(0x0000c040c0000000), // h5
    BitBoard(0x0003020300000000), // a6
    BitBoard(0x0007050700000000), // b6
    BitBoard(0x000e0a0e00000000), // c6
    BitBoard(0x001c141c00000000), // d6
    BitBoard(0x0038283800000000), // e6
    BitBoard(0x0070507000000000), // f6
    BitBoard(0x00e0a0e000000000), // g6
    BitBoard(0x00c040c000000000), // h6
    BitBoard(0x0302030000000000), // a7
    BitBoard(0x0705070000000000), // b7
    BitBoard(0x0e0a0e0000000000), // c7
    BitBoard(0x1c141c0000000000), // d7
    BitBoard(0x3828380000000000), // e7
    BitBoard(0x7050700000000000), // f7
    BitBoard(0xe0a0e00000000000), // g7
    BitBoard(0xc040c00000000000), // h7
    BitBoard(0x0203000000000000), // a8
    BitBoard(0x0507000000000000), // b8
    BitBoard(0x0a0e000000000000), // c8
    BitBoard(0x141c000000000000), // d8
    BitBoard(0x2838000000000000), // e8
    BitBoard(0x5070000000000000), // f8
    BitBoard(0xa0e0000000000000), // g8
    BitBoard(0x40c0000000000000), // h8
];

struct SMasks {
    pub lower: u64,
    pub upper: u64,
    pub line_ex: u64,
}
impl SMasks {
    pub const fn new(lower: u64, upper: u64) -> Self {
        let line_ex = lower | upper;
        SMasks {
            lower,
            upper,
            line_ex,
        }
    }
}

fn line_attacks(occ: u64, mask: &SMasks) -> u64 {
    let lower: u64 = mask.lower & occ;
    let upper: u64 = mask.upper & occ;
    let ms1_b = 0x8000000000000000 >> (lower | 1).leading_zeros();
    let odiff = upper ^ upper.wrapping_sub(ms1_b);
    mask.line_ex & odiff
}

pub fn rook_attacks(occ: u64, sq: usize) -> BitBoard {
    BitBoard(line_attacks(occ, &MASKS[sq][0]) | line_attacks(occ, &MASKS[sq][1]))
}

pub fn bishop_attacks(occ: u64, sq: usize) -> BitBoard {
    BitBoard(line_attacks(occ, &MASKS[sq][2]) | line_attacks(occ, &MASKS[sq][3]))
}

const MASKS: [[SMasks; 4]; 64] = [
    [
        SMasks::new(0x0000000000000000, 0x00000000000000fe),
        SMasks::new(0x0000000000000000, 0x0101010101010100),
        SMasks::new(0x0000000000000000, 0x8040201008040200),
        SMasks::new(0x0000000000000000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000000000000001, 0x00000000000000fc),
        SMasks::new(0x0000000000000000, 0x0202020202020200),
        SMasks::new(0x0000000000000000, 0x0080402010080400),
        SMasks::new(0x0000000000000000, 0x0000000000000100),
    ],
    [
        SMasks::new(0x0000000000000003, 0x00000000000000f8),
        SMasks::new(0x0000000000000000, 0x0404040404040400),
        SMasks::new(0x0000000000000000, 0x0000804020100800),
        SMasks::new(0x0000000000000000, 0x0000000000010200),
    ],
    [
        SMasks::new(0x0000000000000007, 0x00000000000000f0),
        SMasks::new(0x0000000000000000, 0x0808080808080800),
        SMasks::new(0x0000000000000000, 0x0000008040201000),
        SMasks::new(0x0000000000000000, 0x0000000001020400),
    ],
    [
        SMasks::new(0x000000000000000f, 0x00000000000000e0),
        SMasks::new(0x0000000000000000, 0x1010101010101000),
        SMasks::new(0x0000000000000000, 0x0000000080402000),
        SMasks::new(0x0000000000000000, 0x0000000102040800),
    ],
    [
        SMasks::new(0x000000000000001f, 0x00000000000000c0),
        SMasks::new(0x0000000000000000, 0x2020202020202000),
        SMasks::new(0x0000000000000000, 0x0000000000804000),
        SMasks::new(0x0000000000000000, 0x0000010204081000),
    ],
    [
        SMasks::new(0x000000000000003f, 0x0000000000000080),
        SMasks::new(0x0000000000000000, 0x4040404040404000),
        SMasks::new(0x0000000000000000, 0x0000000000008000),
        SMasks::new(0x0000000000000000, 0x0001020408102000),
    ],
    [
        SMasks::new(0x000000000000007f, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x8080808080808000),
        SMasks::new(0x0000000000000000, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0102040810204000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x000000000000fe00),
        SMasks::new(0x0000000000000001, 0x0101010101010000),
        SMasks::new(0x0000000000000000, 0x4020100804020000),
        SMasks::new(0x0000000000000002, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000000000000100, 0x000000000000fc00),
        SMasks::new(0x0000000000000002, 0x0202020202020000),
        SMasks::new(0x0000000000000001, 0x8040201008040000),
        SMasks::new(0x0000000000000004, 0x0000000000010000),
    ],
    [
        SMasks::new(0x0000000000000300, 0x000000000000f800),
        SMasks::new(0x0000000000000004, 0x0404040404040000),
        SMasks::new(0x0000000000000002, 0x0080402010080000),
        SMasks::new(0x0000000000000008, 0x0000000001020000),
    ],
    [
        SMasks::new(0x0000000000000700, 0x000000000000f000),
        SMasks::new(0x0000000000000008, 0x0808080808080000),
        SMasks::new(0x0000000000000004, 0x0000804020100000),
        SMasks::new(0x0000000000000010, 0x0000000102040000),
    ],
    [
        SMasks::new(0x0000000000000f00, 0x000000000000e000),
        SMasks::new(0x0000000000000010, 0x1010101010100000),
        SMasks::new(0x0000000000000008, 0x0000008040200000),
        SMasks::new(0x0000000000000020, 0x0000010204080000),
    ],
    [
        SMasks::new(0x0000000000001f00, 0x000000000000c000),
        SMasks::new(0x0000000000000020, 0x2020202020200000),
        SMasks::new(0x0000000000000010, 0x0000000080400000),
        SMasks::new(0x0000000000000040, 0x0001020408100000),
    ],
    [
        SMasks::new(0x0000000000003f00, 0x0000000000008000),
        SMasks::new(0x0000000000000040, 0x4040404040400000),
        SMasks::new(0x0000000000000020, 0x0000000000800000),
        SMasks::new(0x0000000000000080, 0x0102040810200000),
    ],
    [
        SMasks::new(0x0000000000007f00, 0x0000000000000000),
        SMasks::new(0x0000000000000080, 0x8080808080800000),
        SMasks::new(0x0000000000000040, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0204081020400000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x0000000000fe0000),
        SMasks::new(0x0000000000000101, 0x0101010101000000),
        SMasks::new(0x0000000000000000, 0x2010080402000000),
        SMasks::new(0x0000000000000204, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000000000010000, 0x0000000000fc0000),
        SMasks::new(0x0000000000000202, 0x0202020202000000),
        SMasks::new(0x0000000000000100, 0x4020100804000000),
        SMasks::new(0x0000000000000408, 0x0000000001000000),
    ],
    [
        SMasks::new(0x0000000000030000, 0x0000000000f80000),
        SMasks::new(0x0000000000000404, 0x0404040404000000),
        SMasks::new(0x0000000000000201, 0x8040201008000000),
        SMasks::new(0x0000000000000810, 0x0000000102000000),
    ],
    [
        SMasks::new(0x0000000000070000, 0x0000000000f00000),
        SMasks::new(0x0000000000000808, 0x0808080808000000),
        SMasks::new(0x0000000000000402, 0x0080402010000000),
        SMasks::new(0x0000000000001020, 0x0000010204000000),
    ],
    [
        SMasks::new(0x00000000000f0000, 0x0000000000e00000),
        SMasks::new(0x0000000000001010, 0x1010101010000000),
        SMasks::new(0x0000000000000804, 0x0000804020000000),
        SMasks::new(0x0000000000002040, 0x0001020408000000),
    ],
    [
        SMasks::new(0x00000000001f0000, 0x0000000000c00000),
        SMasks::new(0x0000000000002020, 0x2020202020000000),
        SMasks::new(0x0000000000001008, 0x0000008040000000),
        SMasks::new(0x0000000000004080, 0x0102040810000000),
    ],
    [
        SMasks::new(0x00000000003f0000, 0x0000000000800000),
        SMasks::new(0x0000000000004040, 0x4040404040000000),
        SMasks::new(0x0000000000002010, 0x0000000080000000),
        SMasks::new(0x0000000000008000, 0x0204081020000000),
    ],
    [
        SMasks::new(0x00000000007f0000, 0x0000000000000000),
        SMasks::new(0x0000000000008080, 0x8080808080000000),
        SMasks::new(0x0000000000004020, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0408102040000000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x00000000fe000000),
        SMasks::new(0x0000000000010101, 0x0101010100000000),
        SMasks::new(0x0000000000000000, 0x1008040200000000),
        SMasks::new(0x0000000000020408, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000000001000000, 0x00000000fc000000),
        SMasks::new(0x0000000000020202, 0x0202020200000000),
        SMasks::new(0x0000000000010000, 0x2010080400000000),
        SMasks::new(0x0000000000040810, 0x0000000100000000),
    ],
    [
        SMasks::new(0x0000000003000000, 0x00000000f8000000),
        SMasks::new(0x0000000000040404, 0x0404040400000000),
        SMasks::new(0x0000000000020100, 0x4020100800000000),
        SMasks::new(0x0000000000081020, 0x0000010200000000),
    ],
    [
        SMasks::new(0x0000000007000000, 0x00000000f0000000),
        SMasks::new(0x0000000000080808, 0x0808080800000000),
        SMasks::new(0x0000000000040201, 0x8040201000000000),
        SMasks::new(0x0000000000102040, 0x0001020400000000),
    ],
    [
        SMasks::new(0x000000000f000000, 0x00000000e0000000),
        SMasks::new(0x0000000000101010, 0x1010101000000000),
        SMasks::new(0x0000000000080402, 0x0080402000000000),
        SMasks::new(0x0000000000204080, 0x0102040800000000),
    ],
    [
        SMasks::new(0x000000001f000000, 0x00000000c0000000),
        SMasks::new(0x0000000000202020, 0x2020202000000000),
        SMasks::new(0x0000000000100804, 0x0000804000000000),
        SMasks::new(0x0000000000408000, 0x0204081000000000),
    ],
    [
        SMasks::new(0x000000003f000000, 0x0000000080000000),
        SMasks::new(0x0000000000404040, 0x4040404000000000),
        SMasks::new(0x0000000000201008, 0x0000008000000000),
        SMasks::new(0x0000000000800000, 0x0408102000000000),
    ],
    [
        SMasks::new(0x000000007f000000, 0x0000000000000000),
        SMasks::new(0x0000000000808080, 0x8080808000000000),
        SMasks::new(0x0000000000402010, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0810204000000000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x000000fe00000000),
        SMasks::new(0x0000000001010101, 0x0101010000000000),
        SMasks::new(0x0000000000000000, 0x0804020000000000),
        SMasks::new(0x0000000002040810, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000000100000000, 0x000000fc00000000),
        SMasks::new(0x0000000002020202, 0x0202020000000000),
        SMasks::new(0x0000000001000000, 0x1008040000000000),
        SMasks::new(0x0000000004081020, 0x0000010000000000),
    ],
    [
        SMasks::new(0x0000000300000000, 0x000000f800000000),
        SMasks::new(0x0000000004040404, 0x0404040000000000),
        SMasks::new(0x0000000002010000, 0x2010080000000000),
        SMasks::new(0x0000000008102040, 0x0001020000000000),
    ],
    [
        SMasks::new(0x0000000700000000, 0x000000f000000000),
        SMasks::new(0x0000000008080808, 0x0808080000000000),
        SMasks::new(0x0000000004020100, 0x4020100000000000),
        SMasks::new(0x0000000010204080, 0x0102040000000000),
    ],
    [
        SMasks::new(0x0000000f00000000, 0x000000e000000000),
        SMasks::new(0x0000000010101010, 0x1010100000000000),
        SMasks::new(0x0000000008040201, 0x8040200000000000),
        SMasks::new(0x0000000020408000, 0x0204080000000000),
    ],
    [
        SMasks::new(0x0000001f00000000, 0x000000c000000000),
        SMasks::new(0x0000000020202020, 0x2020200000000000),
        SMasks::new(0x0000000010080402, 0x0080400000000000),
        SMasks::new(0x0000000040800000, 0x0408100000000000),
    ],
    [
        SMasks::new(0x0000003f00000000, 0x0000008000000000),
        SMasks::new(0x0000000040404040, 0x4040400000000000),
        SMasks::new(0x0000000020100804, 0x0000800000000000),
        SMasks::new(0x0000000080000000, 0x0810200000000000),
    ],
    [
        SMasks::new(0x0000007f00000000, 0x0000000000000000),
        SMasks::new(0x0000000080808080, 0x8080800000000000),
        SMasks::new(0x0000000040201008, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x1020400000000000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x0000fe0000000000),
        SMasks::new(0x0000000101010101, 0x0101000000000000),
        SMasks::new(0x0000000000000000, 0x0402000000000000),
        SMasks::new(0x0000000204081020, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0000010000000000, 0x0000fc0000000000),
        SMasks::new(0x0000000202020202, 0x0202000000000000),
        SMasks::new(0x0000000100000000, 0x0804000000000000),
        SMasks::new(0x0000000408102040, 0x0001000000000000),
    ],
    [
        SMasks::new(0x0000030000000000, 0x0000f80000000000),
        SMasks::new(0x0000000404040404, 0x0404000000000000),
        SMasks::new(0x0000000201000000, 0x1008000000000000),
        SMasks::new(0x0000000810204080, 0x0102000000000000),
    ],
    [
        SMasks::new(0x0000070000000000, 0x0000f00000000000),
        SMasks::new(0x0000000808080808, 0x0808000000000000),
        SMasks::new(0x0000000402010000, 0x2010000000000000),
        SMasks::new(0x0000001020408000, 0x0204000000000000),
    ],
    [
        SMasks::new(0x00000f0000000000, 0x0000e00000000000),
        SMasks::new(0x0000001010101010, 0x1010000000000000),
        SMasks::new(0x0000000804020100, 0x4020000000000000),
        SMasks::new(0x0000002040800000, 0x0408000000000000),
    ],
    [
        SMasks::new(0x00001f0000000000, 0x0000c00000000000),
        SMasks::new(0x0000002020202020, 0x2020000000000000),
        SMasks::new(0x0000001008040201, 0x8040000000000000),
        SMasks::new(0x0000004080000000, 0x0810000000000000),
    ],
    [
        SMasks::new(0x00003f0000000000, 0x0000800000000000),
        SMasks::new(0x0000004040404040, 0x4040000000000000),
        SMasks::new(0x0000002010080402, 0x0080000000000000),
        SMasks::new(0x0000008000000000, 0x1020000000000000),
    ],
    [
        SMasks::new(0x00007f0000000000, 0x0000000000000000),
        SMasks::new(0x0000008080808080, 0x8080000000000000),
        SMasks::new(0x0000004020100804, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x2040000000000000),
    ],
    [
        SMasks::new(0x0000000000000000, 0x00fe000000000000),
        SMasks::new(0x0000010101010101, 0x0100000000000000),
        SMasks::new(0x0000000000000000, 0x0200000000000000),
        SMasks::new(0x0000020408102040, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0001000000000000, 0x00fc000000000000),
        SMasks::new(0x0000020202020202, 0x0200000000000000),
        SMasks::new(0x0000010000000000, 0x0400000000000000),
        SMasks::new(0x0000040810204080, 0x0100000000000000),
    ],
    [
        SMasks::new(0x0003000000000000, 0x00f8000000000000),
        SMasks::new(0x0000040404040404, 0x0400000000000000),
        SMasks::new(0x0000020100000000, 0x0800000000000000),
        SMasks::new(0x0000081020408000, 0x0200000000000000),
    ],
    [
        SMasks::new(0x0007000000000000, 0x00f0000000000000),
        SMasks::new(0x0000080808080808, 0x0800000000000000),
        SMasks::new(0x0000040201000000, 0x1000000000000000),
        SMasks::new(0x0000102040800000, 0x0400000000000000),
    ],
    [
        SMasks::new(0x000f000000000000, 0x00e0000000000000),
        SMasks::new(0x0000101010101010, 0x1000000000000000),
        SMasks::new(0x0000080402010000, 0x2000000000000000),
        SMasks::new(0x0000204080000000, 0x0800000000000000),
    ],
    [
        SMasks::new(0x001f000000000000, 0x00c0000000000000),
        SMasks::new(0x0000202020202020, 0x2000000000000000),
        SMasks::new(0x0000100804020100, 0x4000000000000000),
        SMasks::new(0x0000408000000000, 0x1000000000000000),
    ],
    [
        SMasks::new(0x003f000000000000, 0x0080000000000000),
        SMasks::new(0x0000404040404040, 0x4000000000000000),
        SMasks::new(0x0000201008040201, 0x8000000000000000),
        SMasks::new(0x0000800000000000, 0x2000000000000000),
    ],
    [
        SMasks::new(0x007f000000000000, 0x0000000000000000),
        SMasks::new(0x0000808080808080, 0x8000000000000000),
        SMasks::new(0x0000402010080402, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x4000000000000000),
    ],
    [
        SMasks::new(0x0000000000000000, 0xfe00000000000000),
        SMasks::new(0x0001010101010101, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0000000000000000),
        SMasks::new(0x0002040810204080, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0100000000000000, 0xfc00000000000000),
        SMasks::new(0x0002020202020202, 0x0000000000000000),
        SMasks::new(0x0001000000000000, 0x0000000000000000),
        SMasks::new(0x0004081020408000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0300000000000000, 0xf800000000000000),
        SMasks::new(0x0004040404040404, 0x0000000000000000),
        SMasks::new(0x0002010000000000, 0x0000000000000000),
        SMasks::new(0x0008102040800000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0700000000000000, 0xf000000000000000),
        SMasks::new(0x0008080808080808, 0x0000000000000000),
        SMasks::new(0x0004020100000000, 0x0000000000000000),
        SMasks::new(0x0010204080000000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x0f00000000000000, 0xe000000000000000),
        SMasks::new(0x0010101010101010, 0x0000000000000000),
        SMasks::new(0x0008040201000000, 0x0000000000000000),
        SMasks::new(0x0020408000000000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x1f00000000000000, 0xc000000000000000),
        SMasks::new(0x0020202020202020, 0x0000000000000000),
        SMasks::new(0x0010080402010000, 0x0000000000000000),
        SMasks::new(0x0040800000000000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x3f00000000000000, 0x8000000000000000),
        SMasks::new(0x0040404040404040, 0x0000000000000000),
        SMasks::new(0x0020100804020100, 0x0000000000000000),
        SMasks::new(0x0080000000000000, 0x0000000000000000),
    ],
    [
        SMasks::new(0x7f00000000000000, 0x0000000000000000),
        SMasks::new(0x0080808080808080, 0x0000000000000000),
        SMasks::new(0x0040201008040201, 0x0000000000000000),
        SMasks::new(0x0000000000000000, 0x0000000000000000),
    ],
];

pub const PIECE_KEYS: [[u64; 64]; 12] = [
    [
        17620095721125023473,
        12910425746785231321,
        9717443807651049068,
        17858099579683714732,
        6167423311172598939,
        18135831103352710439,
        7159393288657934954,
        12386535424295384409,
        11470748433090751781,
        8226061134057650536,
        16594681185815835556,
        3129629052834877275,
        5204248103185861261,
        15482436410640740446,
        12521225411460697385,
        1416678860029205371,
        8160174427553731338,
        12039390743165134829,
        14714438754210224844,
        1804368544952704953,
        12104214159484849007,
        16012014642270795725,
        13009929858552334680,
        17323778664127801363,
        13315808268771928173,
        16509680969815373152,
        13916753430164903127,
        6441393162382449302,
        13583716039113894102,
        15478133000474728225,
        15040956066936606038,
        16513006435304212585,
        15849887504555887172,
        2625208709022682022,
        17889069331507045492,
        4498505518625861093,
        14024258748702168117,
        5998507600015533730,
        548655901153028239,
        13858404470932912472,
        13697690825399136159,
        6664349026740482883,
        2072275733370668483,
        16239074329478943509,
        1672512089126125804,
        1386667478049430294,
        3717977270168119925,
        18155103061290381785,
        13937695307760529527,
        17795285944763544269,
        13949816371958086755,
        7343078930596943598,
        2672788341663596292,
        6385813395814397774,
        918075085881514531,
        3070232852399922879,
        16721472888361105944,
        15023165662743091157,
        12930660001432123840,
        8134200610119450378,
        10553845454503371835,
        9514338909912007738,
        4083691795757890407,
        6454806384766580059,
    ],
    [
        2344165624159777618,
        11012971594412481448,
        4294274072865123261,
        5138003147552522701,
        389479399931439646,
        3073603115780752581,
        6149897924825417505,
        6254968278570165015,
        3464144885669189593,
        5212658317549528323,
        13393302867159336174,
        8999716143120015648,
        13853210630785642246,
        16285899731722059614,
        11554174685374018983,
        3426211503564179455,
        7454880987611814395,
        16999747769260994816,
        2764805633136441910,
        13208668289667243085,
        16238920444063879800,
        6913059053362223790,
        14535291712404264451,
        8073650670009909603,
        14480554589641303110,
        5175396186343527603,
        13972806049066025075,
        11993129078576166511,
        10994334756624236962,
        5368393613642989111,
        9165591793556383192,
        11883038903719894896,
        6268313422420505055,
        17666283758611236297,
        15006480791980020893,
        12224608710990089279,
        8241860955251546379,
        7193841576806978930,
        6177410921764151767,
        15004406370785148186,
        14048998253326454852,
        6287619165570515559,
        13501588229275603741,
        11995789297447846722,
        1143561669078516314,
        17442147256425023390,
        3042681759462026459,
        7604284925129078082,
        11095255923813648284,
        9485086054161932547,
        15704684629076886285,
        7823110830113825055,
        1776192338852481804,
        18082517120087801924,
        8898204046286058019,
        11093749954973337446,
        15610735497889616563,
        3727282436782638787,
        6124910344621305959,
        16339224120733867594,
        18359345091652447619,
        5647572588580937818,
        5714852300289498783,
        16919550638483708543,
    ],
    [
        8701301851600885204,
        10175360123770165494,
        354539564832041132,
        11678575418972459689,
        7497047072439212367,
        13746984480247463459,
        1061196724520436599,
        1484784697690081521,
        8865988632816686202,
        13713280294171990431,
        18096893057342560978,
        5304917369465384209,
        7137928189476810828,
        819334921569860148,
        2813510924447407143,
        2652412773604437547,
        11616952602809110397,
        17689294187392030308,
        6768193618247312987,
        6421345184652297997,
        4161784885403386513,
        2198326375445430891,
        7288886385740753162,
        11266596320947768384,
        16311726965389063374,
        8815813741792765410,
        92567909435073660,
        12289236641147972639,
        4845179266040702098,
        3444653674961597689,
        1564152304217263279,
        10793206983900241338,
        9384400310414745750,
        11575980555730182944,
        6301640830452359202,
        9765985824601176038,
        14263477145298236435,
        15831857102234820890,
        14255179838147973491,
        10904237845735467604,
        18098877453518111481,
        9874330771962396422,
        8285885657280511574,
        2196235066313861596,
        4131726863282444390,
        1277573833790606592,
        14845468187039618627,
        18242406801921278559,
        14759896800071213063,
        14880649767369747413,
        7014660084855086761,
        9725719652164169066,
        17975240503809155943,
        3476889531126836268,
        7560787855910173149,
        13071537487168301892,
        17574443114540256497,
        3927087728431588425,
        1674797600347729038,
        7218594426984258955,
        17827006823534533453,
        11593383791056565709,
        6047099451772018021,
        6487831157707197492,
    ],
    [
        15410814754565119104,
        7214546093616624838,
        4666321074687054816,
        4783810052836401572,
        2851179267793765012,
        9185988219067912182,
        6418914831844430025,
        8218784867216971444,
        10870271814773123189,
        8924866980005741582,
        12536091831642060798,
        17260783976215024252,
        6442343806553931968,
        8570868634967192697,
        10764543946853977953,
        6773061252611122431,
        13439396707459084664,
        13430263762164320946,
        5399801128026986812,
        17719674981622328841,
        8542205053275146396,
        1597375707170784382,
        545209172622949421,
        13057215077321397356,
        11887557409267915367,
        10240444931338140992,
        3854644559011485295,
        7653887928158168086,
        16501501310464781398,
        3785693957040124269,
        8549160167721517048,
        15772735222431053396,
        5519802173454308812,
        17699105915856117,
        9379323699010011428,
        16984951807600452189,
        7717354808038730112,
        3346523981139811070,
        13912595095164808831,
        3540224695099921061,
        8131702621171301078,
        13203674921574449826,
        1086919779600108077,
        13068960681088024029,
        6539409823712170183,
        12139352741158109290,
        958369136157887642,
        11300239782142074687,
        18312701678915956050,
        9493019899244339035,
        9305445051272182115,
        1182179490547271015,
        6154954336698627498,
        874417093434763349,
        17056187252441014141,
        8348715303607540965,
        11856492609703073972,
        4810459171057882587,
        14064760852934084256,
        14557732008233316309,
        2370948578099798723,
        11054493867531896655,
        14803140877576669623,
        9469544174012518467,
    ],
    [
        16594785836189840812,
        3318933970377877072,
        13312151559143682774,
        15817969781298337655,
        4945203017789523767,
        13630497181108437334,
        14811654988718838722,
        5564079700565339964,
        5096656398030000051,
        18362201277247999616,
        12629744124754761471,
        3746361917016083760,
        17439606753919382441,
        2596762794075772676,
        4792680319600656752,
        6257623205315828394,
        3888611163838686630,
        2056208990368193676,
        3617529410734246103,
        9057666552869399143,
        15588595712065587868,
        2577303535606555844,
        6443426475267427760,
        121181824889620855,
        12834807222785620648,
        9932433320510781389,
        16736497622670923691,
        14252271117482921139,
        8092917802023601136,
        762300634729508520,
        7531751662358860329,
        2208628064182235314,
        17888982708743745032,
        12100517358165255085,
        15359211663879218471,
        1395370522172199080,
        16397311376512821190,
        3391291699271049977,
        6536399949044497176,
        5271903278967338830,
        3896880007218771648,
        1157805127032184094,
        7065811428357452222,
        5122294472448580704,
        4477614127363080082,
        6964843265145639325,
        14058852518230091444,
        1571402767214498422,
        370549923302880637,
        9452129956100727352,
        10407588792813417557,
        9853693634522593656,
        2974017849576384224,
        16351691467643753530,
        15545773628851107118,
        1943920734166645782,
        5703075336893362595,
        11596302707337217932,
        17711717046863594489,
        2712029272571760026,
        11926586839081619934,
        7331627003064950485,
        9231944068353967398,
        1180178162397238258,
    ],
    [
        17516773745146500751,
        15256125287647540686,
        6084764966827994798,
        7506579830133372605,
        8594048556557062483,
        4832564255431027739,
        2104102283901552265,
        6590878781221301283,
        5376918703872450810,
        10363946570095912491,
        13708347018717040016,
        18215019108881534684,
        16711515804588038230,
        11537234918366134768,
        16488662435413837687,
        3733390027416322440,
        14644510574435862411,
        1956219908078662927,
        15699473355677387845,
        31913714579091661,
        1887890331347007692,
        15280696691279015786,
        18343899627411597696,
        4480602439223071767,
        16211983182807874163,
        8350924833784830682,
        3197801388316577786,
        10377832641605510348,
        12131022326090467203,
        7754388124275312574,
        5289617007572114312,
        10039036844303096122,
        637318937213170250,
        7894733348802694055,
        6972549401509771779,
        8903018461715907730,
        12195269715726131025,
        17858089160360973391,
        18108881274899967081,
        8510822612331902765,
        7970812469185485066,
        17054578145098502821,
        5497152644444195136,
        18160524425309255716,
        3993905507322464802,
        934405248304317620,
        16207926366652954376,
        11986781905648099826,
        1764302913721702456,
        6288106535905126690,
        825457182483589148,
        695455807485050826,
        16466364871214046978,
        4244913524349316326,
        3961962414241853851,
        16805888590494109077,
        575591624475482315,
        7231542861143386519,
        9854567035391927377,
        13199167676979538818,
        8034340752242680631,
        2286285084342912934,
        4019380410932462300,
        12491414813603970651,
    ],
    [
        9231278075280554751,
        16354094302653543748,
        483007591067515862,
        13532580043527984786,
        8196834636215939623,
        15575869211477336668,
        17271017016608581405,
        7389450788786577192,
        4486106567143686025,
        8635225296658587317,
        3171463965037693887,
        2245733201246638980,
        3293031862508873587,
        14557485310939819283,
        16287550060571032532,
        1547457418713292468,
        9326750832175909281,
        12777393481813867700,
        7764640812662273138,
        3341676143550477458,
        8133078973027144735,
        6938670817566939899,
        15400656614740744166,
        4295802696968201153,
        14997136789314105073,
        17598316286179497031,
        747646606780129734,
        2839630586545356880,
        12040561624912552742,
        849065652604140172,
        8703834937557687573,
        13322084873992277034,
        182105623596848237,
        6720758614239368958,
        15519555281725699637,
        6121326799443785537,
        5038221050851757707,
        17072246395475853362,
        15157105503510981097,
        2330940185871103978,
        12766602420859882742,
        16544392177362159030,
        11646630305729504136,
        6226819012289475839,
        8367281856294299631,
        11231155809786916126,
        15578061219513500204,
        6434789322490910579,
        13171250933610383953,
        4650206332773964050,
        3093618287115085308,
        9945383405403684084,
        4347722418509685846,
        11092085374260773732,
        13795146813275417305,
        2681454362926866188,
        2435888279767482948,
        2950262091246665935,
        4008016157214564517,
        16694086782941671560,
        18097351883797922595,
        1022844725792323174,
        3342269618968936565,
        6087067496059796762,
    ],
    [
        14270901400936133111,
        8735620978967201376,
        3236287497602008787,
        15107000935080332633,
        11234226812839057598,
        2276488749939697464,
        69947369894156820,
        8111488120009187841,
        11994862521613490772,
        5899911197971651292,
        17210163151033349915,
        16005749939166393543,
        10677146523447214816,
        8869006906106146799,
        4278310667409976787,
        7771456940679763791,
        6794334027884411909,
        9705186483851161526,
        6784747561195721250,
        10559454326054690508,
        15929587214629996128,
        1236116072684890609,
        9338470444075293173,
        9853877799374478249,
        14254151144749788813,
        16681725614229261585,
        4521381243924655578,
        4892086497824709122,
        17294265924362420283,
        13768491455561222988,
        2743846535863644368,
        16074071794889630091,
        11822726356330170900,
        13107081573881277770,
        575322996614389138,
        8338649561839142312,
        15648012881774896106,
        16149281802973472534,
        4654662444660775431,
        16109735914621895583,
        1562368360206919729,
        11255346722436028082,
        15899609517057096053,
        6301378184004338041,
        6949635817947338584,
        4878497565456754273,
        11152361324556229637,
        17412437527020214581,
        4891594741145857680,
        14023297729730185716,
        9221900088432117578,
        17917764488789462320,
        10064111681849907405,
        1052695590603737769,
        15911731666865232879,
        2186085099389774209,
        2764856916313878223,
        9388120360041895222,
        13014405717815787231,
        16871155513344917192,
        3386336331853381196,
        5037167265427840812,
        6863584255687394306,
        6014992361985740331,
    ],
    [
        8387840823205235716,
        10782605465616197868,
        13563895644049991676,
        925561758714998524,
        5143489696946561513,
        66580092055049436,
        3039240449085175970,
        8133986299471548851,
        14230892795216782951,
        12125497250285185641,
        14495130477827970369,
        8517665135585502557,
        6219431256361664748,
        8225423431995087514,
        10137190540297842677,
        3262471358559819257,
        9130996169936379553,
        14460390078093447200,
        11947206515852263593,
        11017417849521504743,
        7468488859131379523,
        10392405646768268983,
        16263356910292845889,
        12898483914415920218,
        177866790047519283,
        6502499072795851165,
        3843235325440576185,
        7606196576086302998,
        11945429480619356693,
        3523894667362822830,
        8142990390071223495,
        10600826400340383144,
        8155395213316011366,
        5350769049019433234,
        3306398986350320927,
        111724718566620115,
        10319905754605807407,
        15451908216664286062,
        16125125179479135342,
        9981742706108657983,
        14977701631309840708,
        3542673596506041819,
        1925406237604118399,
        11147875202893786650,
        16259059126933915191,
        12015919286924463285,
        2334051381883110119,
        3582858446166527341,
        15994398957284465377,
        12750651985218316397,
        13279714591790926830,
        17324390758822050656,
        7060018013668501114,
        13348380554334952761,
        12837107702813075196,
        6303326304802676655,
        12210346592986896045,
        15667877194280910628,
        5244639863982960360,
        2668864780058664130,
        18413176424158945008,
        13559348030926046029,
        2308786748239994939,
        2950273189836948266,
    ],
    [
        17610868623965819419,
        11940142749785078855,
        2886167752600664466,
        5401366231946372930,
        11512392294440643891,
        8485510873856023390,
        17683586748500669064,
        10301730955007811357,
        965728560615920293,
        12968030251346555383,
        9081745586531270649,
        18174205434024321224,
        6693787954449885927,
        3426381894416561867,
        9691205722091198249,
        5485569166847517182,
        2135717332805036170,
        16296938674614585150,
        12803492481047331725,
        17416256959906163547,
        9625856134913052879,
        8358361929270234420,
        13820555153767566838,
        3056811727085263589,
        9759764947917970647,
        15819517885290386013,
        16684672358060038612,
        16581664638878334627,
        7732651292751382135,
        13683737578334000562,
        15929887971171015369,
        447020674618822377,
        6076357794820350961,
        9615259689808914785,
        6164142081467290361,
        4169247910836528138,
        10778339059436159641,
        5848359854933073836,
        7245123058444261345,
        18212108803481213821,
        221687421280254900,
        13070873709780716076,
        2066470688605793329,
        4814764537711952281,
        2530754926012426660,
        2076058902682609242,
        15837307383358600133,
        11671755024917580160,
        6732905706787196635,
        16424393222726657293,
        4813543581749270214,
        6736249782411671178,
        16027939150076674156,
        3267403360159814954,
        10549828163367610046,
        12862606726776347456,
        14087441197251473136,
        16329949795555378647,
        14055224123602258425,
        11884769163504259190,
        17679678507314002888,
        1111058720833194468,
        6884888402959827259,
        11410191267160289784,
    ],
    [
        2453668924341179864,
        8214871407538117503,
        3517849663583559811,
        8989693326581106499,
        4966871718405299876,
        17264447852165673672,
        7445752490223735971,
        4123998358941605574,
        11805292779954564875,
        13808977444513604333,
        15303569273330367046,
        2433547246202763409,
        9533614974675044306,
        13863120605111423030,
        14277728601586201917,
        6933972495176067527,
        14495998252317456936,
        4877179206432939810,
        10391822378668978479,
        15410821846235026768,
        5340760139348636568,
        175862925287723456,
        10775903623365188654,
        14375825803373020291,
        6719829837718998118,
        2116057582846474427,
        253698492660853107,
        1640585843322720897,
        2386793929180012813,
        15503056417610577146,
        14098272194360320780,
        7165549307773097358,
        11579792485750350316,
        2486357296479216950,
        10326034115845569363,
        7229657091527682568,
        13844994677900345129,
        11019788074006033267,
        17703832288216576486,
        15850219990690653151,
        17478629857071564723,
        11716288015770413841,
        9227129427666197047,
        11281663149851383543,
        3560602731354386999,
        2300657108259306873,
        14986543523379885925,
        15543232859445265942,
        10416457710271465121,
        1848925993454206587,
        5052338384129850594,
        6979217487158670984,
        12044174759801243721,
        6264639194918788020,
        2178070019721800867,
        3576883244610580208,
        12989574164408536819,
        7480522602808573188,
        5224202644188449908,
        11155842277009631715,
        10146792735473214990,
        8508451420403919530,
        13004755986892794319,
        6596611645086236356,
    ],
    [
        13047590367059274053,
        6523360156461174102,
        13505208889664506703,
        7292557337527032403,
        2646348693568399,
        6955444689649080063,
        16826258828036161244,
        12134911703519434652,
        11390837962682105623,
        11037581930198217664,
        8644434931555351974,
        2075564673368587463,
        14721369673953486370,
        15270091648386894308,
        11533590017359267713,
        17398509654472003553,
        2242545886569253994,
        13394140419652526375,
        7887365919192411096,
        5953576003162855714,
        679406186974107264,
        18134570788977626170,
        15506282479037642222,
        11808789128613203416,
        380640882090919787,
        1226967396402639097,
        4587760353343764049,
        18228128858692564635,
        14767384719647057887,
        13233363633716165263,
        2540057167692925610,
        1901724839831360866,
        13780048267954473944,
        6870533622352869828,
        6785579628215416404,
        16145760649402054786,
        6802164546898678509,
        14552068491638982497,
        13498735617993503992,
        10897005702742009983,
        9905889337157135093,
        9941824382275596149,
        1532643014045106113,
        9187828785965192538,
        2504267709734457606,
        729657245649846990,
        7009374899799447908,
        15893744541233316516,
        11554458339933970415,
        3625381592778177767,
        3673701939331470540,
        5744301550989630523,
        6949009809886839137,
        1615922221924075179,
        7335794752722130625,
        8777995132311499141,
        10097175230695456641,
        2692741598416416659,
        16167543050085850763,
        5367630436737745448,
        335567698922525608,
        6298699609147217918,
        8430270253254097180,
        16855299010138247584,
    ],
];

pub const EP_KEYS: [u64; 64] = [
    13940717184246866103,
    1993658943046945506,
    16327796790437126856,
    6213737427236173344,
    3922307885261381837,
    13510099760911847927,
    16085298790566293199,
    16071969500791017292,
    531906942634841513,
    3429161346381614602,
    4623785060499387988,
    4039575298733929994,
    4397831639278475860,
    14222308714059418582,
    10317470988913250562,
    7104908788656965688,
    15405493003435807970,
    10575139004139719635,
    12814854021496799611,
    12763558320365769023,
    11227580566568033843,
    1315456418192641983,
    9662115853466096920,
    10985713958206154643,
    6343896401113133519,
    200814463376292171,
    2985728652108127197,
    3429502076787668957,
    4434551988451374357,
    453533218074918894,
    14849963974478453168,
    14467095326630469467,
    15127586609743689549,
    1981060174983248114,
    2151987857635339299,
    84128070220947516,
    11993930002455351392,
    17586476321523108417,
    8439054845106464861,
    13013922912871004911,
    10242083652282042670,
    10831935142215579654,
    8313503729960023976,
    13297956859375535784,
    18312433215889897011,
    13304641498579426490,
    2885238771461113784,
    2068607689194069961,
    17723945776408285039,
    11346760156362498311,
    9596397509403713913,
    2630207365025409083,
    14485777569437513539,
    15424745450892965729,
    16995432247451308243,
    9289212384448407239,
    10917861569111818864,
    17173870346382279542,
    8614144435336199902,
    17321517774339904223,
    5775247837356575711,
    5779196319086631641,
    15945053553873019529,
    7303701136406218200,
];

pub const CASTLE_KEYS: [u64; 16] = [
    5165271734039274182,
    2955031241160565528,
    1481393137426360481,
    18394781283881548113,
    12700747627956251297,
    18356102737378918548,
    8189872579804397934,
    16691131216529005647,
    9688749066764731474,
    2177274890412210286,
    15863353538265933723,
    2863660829053636715,
    14417999111611444470,
    16638875144526094644,
    14513854485006722375,
    17868609322352242400,
];

pub const SIDE_KEY: u64 = 16926290638304262079;
